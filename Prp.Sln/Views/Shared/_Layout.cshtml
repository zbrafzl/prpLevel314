@model Prp.Sln.ModelBase
<!DOCTYPE html>
<html>
<head>


    <!-- ======== -->
    <!-- Meta Tag -->
    <!-- ======== -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Punjab Residency Program">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>PRP | @ViewBag.Title </title>
    <link href="assets/public/css/bootstrap.css" rel="stylesheet">

    @*<link href="/assets/css/font-awesome.css" rel="stylesheet" />*@
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="assets/vendor/html5shiv.min.js"></script>
        <script src="assets/vendor/respond.min.js"></script>
    <![endif]-->


    <link href="/assets/public/css/bootstrap.css" rel="stylesheet">
    <link href="/assets/public/css/font-awesome.min.css" rel="stylesheet">
    <link href="/assets/public/css/hover.css" rel="stylesheet">
    <link href="/assets/public/css/style.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
    <link href="/assets/public/css/responsive.css" rel="stylesheet">
    <link href="~/assets/jquery/bootstrap-datepicker.min.css" rel="stylesheet" />
    <link href="/assets/css/default.css" rel="stylesheet" />

    @*chosen*@
    <link rel="stylesheet" href="/Scripts/chosen/prism.css">
    <link rel="stylesheet" href="/Scripts/chosen/chosen.css">

    <style>
        .ank {
            cursor: pointer;
        }

        ul.contact_nmbr {
            padding: 0px !important;
            margin: 0px !important;
        }

            ul.contact_nmbr li a {
                margin: 0px;
                padding: 5px;
            }

        ul.contact_nmbr {
            padding: 0px !important;
            margin: 0px !important;
            margin-top: 10px !important;
        }

        .navbar .nav {
            margin: 0px 10px 0;
        }

        .ul-link li {
            min-width: 35px;
        }

        .timeHeader {
            color: #fff;
            font-size: 15px;
            margin-top: 10px;
        }

        .timmerId {
            color: #fff;
            font-size: 30px;
            margin-top: 10px;
        }

        .container-fluid a {
            color: #fff;
            font-size: 15px;
        }
    </style>

    @RenderSection("RenderCss", required: false)

</head>
<body cz-shortcut-listen="true">
    <div id="divBgImage" class="bg-img bg-container">
        <header>
            <div class="container">
                <div class="col-sm-3 logo"> <a href="/"><img src="/assets/logo.png" alt="PHF"></a> </div>
                <div class="col-sm-9 navigation">
                    <nav class="navbar navbar-default">
                        <div class="">
                            <!-- Brand and toggle get grouped for better mobile display -->
                            <div class="navbar-header time">
                                <div class="timeHeader blink">

                                </div>
                                <div class="timmerId">

                                </div>
                            </div>
                            <!-- Collect the nav links, forms, and other content for toggling -->
                            <div class="navbar-collapse collapse" id="bs-example-navbar-collapse-1" aria-expanded="false" style="height: 39px;">
                                <ul class="nav navbar-nav navbar-right red ul-link" style="margin:auto; width:75%;">

                                    @if (Model.loggedInUser != null && Model.loggedInUser.applicantId > 0)
                                    {
                                        if (Model.applicationStatusId == 8)
                                        {
                                            @*<li>
                                                <a href="/application-status">View Status</a>
                                            </li>*@
                                            @*<li class="blink">
                                                <a href="/nett/grievance-verification-application">Apply Grievance</a>
                                            </li>*@
                                            @* <li class="blink">
                                                    <a href="/applicant/joining">Joining</a>
                                                </li>*@
                                            <li>
                                                <a href="/profile-view-print">View Profile</a>
                                                <input type="hidden" id="hfdApplicantId" value="@(Model.loggedInUser.applicantId)" />
                                            </li>
                                            <li class="blink">
                                                <a href="@("/"+ProjConstant.preUrl + "/applicant/consent")">Give Consent</a>
                                            </li>
                                        }
                                        else
                                        {
                                            <li class="blink">
                                                <a href="/applicant-profile-create">Profile Builder <i class="fa fa-edit"> </i></a>
                                                <input type="hidden" id="hfdApplicantId" value="@(Model.loggedInUser.applicantId)" />
                                            </li>
                                            <li>
                                                &nbsp;
                                            </li>
                                            if (Model.applicationStatusId > 1)
                                            {
                                                <li class="blink">
                                                    <a href="/print/voucher" target="_blank">Download Voucher <i class="fa fa-download"> </i></a>
                                                </li>
                                            }
                                        }
                                    }
                                    else
                                    {
                                    }
                                </ul>
                                <ul class="nav navbar-nav navbar-right red ul-link">
                                    <li class="red">
                                        <a href="#"> <i class="fa fa-phone" aria-hidden="true"></i> Help Line: +92 304-1111972   </a>
                                    </li>
                                    <li class="red" style="display:none;">
                                        <a href="#" style="text-transform:lowercase;"> <i class="fa fa-envelope" aria-hidden="true"></i>  support@phf.gop.pk </a>
                                    </li>

                                    @if (Model.loggedInUser != null && Model.loggedInUser.applicantId > 0)
                                    {
                                        <li>
                                            <a href="/contact-us">Contact Us</a>
                                        </li>
                                        <li class="red">
                                            <a href="#"> Welcome </a>
                                        </li>
                                        <li class="red"><a href="/logout">Logout</a></li>
                                        <li>
                                            <img src="@(Model.loggedInUser.pathProfilePic)" style="width:40px; height:40px;" class="img-circle mt10 dropdown-toggle" role="button" aria-haspopup="true" aria-expanded="false" data-toggle="dropdown" alt="">
                                            <ul class="dropdown-menu">
                                                <li><a href="/applicant-profile-create">View Profile</a></li>
                                                <li><a href="/change-password">Change Password</a></li>
                                                <li><a href="/logout">Logout</a></li>
                                            </ul>
                                        </li>

                                    }
                                    else
                                    {
                                        @*<li><a href="/contactus">Contact Us</a> </li>*@
                                        <li class="red"><a href="/login">Login</a></li>
                                        <li class="red"><a href="/register"> Register </a></li>
                                    }
                                </ul>
                            </div><!-- /.navbar-collapse -->
                        </div><!-- /.container-fluid -->
                    </nav>
                </div>
            </div>
        </header>
        @{

            try
            {
                var listTicker = Model.listTicker.Where(x => x.typeId == 1 && x.isActive == true).ToList().OrderBy(x => x.sortOrder).ToList();
                if (listTicker != null && listTicker.Count > 0)
                {
                    <div class="notifyAlert">
                        <div class="container-fluid">
                            <ul id="ticker" style="display: none;">
                                @foreach (var item in listTicker)
                                {
                                    <li>
                                        <strong>
                                            @item.detail
                                        </strong>
                                    </li>
                                }
                            </ul>
                        </div>
                    </div>
                }
            }
            catch (Exception)
            {
            }

            try
            {
                var alert = Model.listTicker.FirstOrDefault(x => x.typeId == 6 && x.isActive == true);
                if (alert != null && alert.tickerId > 0)
                {
                    <div class="col-sm-12">
                        <div class="panel panel-danger">
                            @Html.Raw(alert.detail)
                        </div>
                    </div>
                }
            }
            catch (Exception)
            {
            }
        }
        @RenderBody()
        <footer>
            <div class="footer">
                <div class="container">
                    <div class="col-sm-12 text-center tc">
                        Copyrights@2021 SHC&ME Dept  Powered by: Punjab Health Foundation.
                    </div>
                </div>
            </div>
        </footer>
    </div>
    @*<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>*@
    <script src="/assets/jquery/jquery.min.js"></script>
    <script src="/assets/jquery/bootstrapValidator.min.js"></script>

    <script src="/assets/vendor/bootstrap.min.js"></script>
    <script src="/assets/js/index.js"></script>
    @*<link href="/assets/global/plugins/pnotify/pnotify.custom.min.css" rel="stylesheet" type="text/css" />
        <script type="text/javascript" src="/assets/global/plugins/pnotify/pnotify.custom.min.js"></script>*@

    <script src="/assets/jquery/bootstrap-datepicker.min.js"></script>
    <script src="/assets/tickerme.min.js"></script>
    <script src="/assets/jquery/CommonFunctions.js"></script>

    @*chosen*@
    <script src="/Scripts/chosen/chosen.jquery.js" type="text/javascript"></script>
    <script src="/Scripts/chosen/prism.js" type="text/javascript" charset="utf-8"></script>
    <script src="/Scripts/chosen/init.js" type="text/javascript" charset="utf-8"></script>

    <script type="text/javascript">

        var applicantStep = 0;

        $(function () {

            $('#ticker').tickerme({
                duration: 8000,
                control_colour: '#fff'
            });
        });

        $('.btnRegister').click(function () {
            $('.reg-section').show();
            $('.login-section').hide();
        }); $('.btnLogin').click(function () {
            $('.reg-section').hide();
            $('.login-section').show();
        });


        $(".set > a").on("click", function () {
            if ($(this).hasClass("active")) {
                $(this).removeClass("active");
                $(this)
                    .siblings(".set .content")
                    .slideUp(200);
                $(".set > a i")
                    .removeClass("fa-minus")
                    .addClass("fa-plus");
            } else {
                $(".set > a i")
                    .removeClass("fa-minus")
                    .addClass("fa-plus");
                $(this)
                    .find("i")
                    .removeClass("fa-plus")
                    .addClass("fa-minus");
                $(".set > a").removeClass("active");
                $(this).addClass("active");
                $(".set .content").slideUp(200);
                $(this)
                    .siblings(".set .content")
                    .slideDown(200);
            }
        });

        $(document).ready(function () {

            var applicantIdThis = 0;
            try {
                applicantIdThis = ConvertToInt($("#hfdApplicantId").val());
            } catch (e) {
                applicantIdThis = 0;
            }
            sessionStorage.setItem("applicantIdPrint", applicantIdThis);

            $(document).on('change', '.flup', function () {

                var idAttr = $(this).attr("id");

                var ctrlId = idAttr.replace("fl", "");

                var ctrlImg = "img" + ctrlId;
                var ctrlRmv = "rmv" + ctrlId;


                var ext = $(this).val().split('.').pop().toLowerCase();
                if ($.inArray(ext, ['png', 'jpg', 'jpeg']) == -1) {

                    $(this).val(null);
                    $('#' + ctrlImg).attr('src', "");
                    $('#' + ctrlImg).hide();
                    $('#' + ctrlRmv).hide();
                    alert('invalid extension!');
                }
                else {

                    var _size = this.files[0].size;
                    var iSize = (this.files[0].size / 1024);
                    iSize = (Math.round(iSize * 100) / 100)

                    //var fSExt = new Array('Bytes', 'KB', 'MB', 'GB'),
                    //    i = 0; while (_size > 900) { _size /= 1024; i++; }
                    //var fSExt = new Array( 'KB'),
                    //    i = 0; while (_size > 900) { _size /= 1024; i++; }
                    //var exactSize = (Math.round(_size * 100) / 100);
                    if (iSize > 500) {
                        //var exactSizeFull = (Math.round(_size * 100) / 100) + ' ' + fSExt[i];
                        alert("File size " + iSize + "KB, greater then 500 KB. Please compress image size.");
                        $(this).val("");
                        $('#' + ctrlImg).attr('src', "");
                        $('#' + ctrlImg).hide();

                        $('#' + ctrlRmv).hide();
                    }
                    else {
                        readURL(this, ctrlId);
                    }
                }
            });

            $(document).on('click', '.removeImage', function () {

                var idAttr = $(this).attr("id");
                var ctrlId = idAttr.replace("rmv", "");

                var ctrlImg = "img" + ctrlId;
                var flId = "fl" + ctrlId;
                $('#' + ctrlImg).attr('src', "");
                $('#' + ctrlImg).hide();

                $(this).hide();
                $('#' + flId).val(null);

                $('#hfd' + ctrlId).val("");

            });

            // Set the date we're counting down to
            //var countDownDate = new Date("Feb 08, 2022 17:00:00").getTime();

            //// Update the count down every 1 second
            //var x = setInterval(function () {

            //    // Get today's date and time
            //    var now = new Date().getTime();

            //    // Find the distance between now and the count down date
            //    var distance = countDownDate - now;

            //    // Time calculations for days, hours, minutes and seconds

            //    var days = 0;
            //    try {
            //        days = Math.floor(distance / (1000 * 60 * 60 * 24));
            //        days = ConvertToInt(days);
            //    } catch (e) {
            //        days = 0;
            //    }



            //    var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            //    var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            //    var seconds = Math.floor((distance % (1000 * 60)) / 1000);

            //    hours = ConvertToInt(hours);
            //    hours = hours + (days * 24);

            //    var timeStr = hours + "h " + minutes + "m " + seconds + "s ";
            //    $('.timmerId').html(timeStr);

            //    // Output the result in an element with id="demo"
            //    //document.getElementById("timmerId").innerHTML = hours + "h "
            //    //    + minutes + "m " + seconds + "s ";

            //    // If the count down is over, write some text
            //    if (distance < 0) {
            //        clearInterval(x);
            //        $('.timmerId').html("EXPIRED");
            //        //document.getElementById("timmerId").innerHTML = "EXPIRED";
            //    }
            //}, 1000);


            setInterval(blink_text, 1000);

            function blink_text() {
                $('.blink').fadeOut(500);
                $('.blink').fadeIn(500);
            }

            setInterval(function () {

                try {
                    $("#divMessage").hide();
                } catch (e) {
                }

            }, 4000);

        });

        //divMessage

        function readURL(input, ctrlId) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();

                ctrlImg = "img" + ctrlId;
                reader.onload = function (e) {
                    $('#' + ctrlImg).attr('src', e.target.result);
                    $('#' + ctrlImg).show();

                    var ctrlRmv = "rmv" + ctrlId;
                    $('#' + ctrlRmv).show();
                }
                reader.readAsDataURL(input.files[0]);
            }
        }

    </script>

    @RenderSection("RenderScript", required: false)

</body>
</html>
